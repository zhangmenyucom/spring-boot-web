<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>每日推荐</title>
    <script type="text/javascript" src="/js/jquery-3.3.1.min.js"></script>
    <style type="text/css">
        body {
            text-align: center;
        }

        table {
            border-collapse: separate;
            margin: 0 auto;
            text-align: center;
        }

        table tr {
            word-break: keep-all; /*缩小不换行*/
        }

        table td, table th {
            border: 1px solid #cad9ea;
            color: black;
            height: 30px;
        }

        table thead th {
            background-color: #CCE8EB;
            width: 100px;
        }

        table tr:nth-child(odd) {
            background: #fff;
        }

        table tr:nth-child(even) {
            background: #F5FAFA;
        }

        .divOver {
            background: burlywood !important;
            border: solid 1px #d2dce3 !important;
        }
    </style>
</head>
<body>
<div id="container">
    <div>
        <ol>
            <li th:each="queryDate: ${listDate}"><a th:href="@{'/stock/view/recmd/'+${type}+'?recordTime='+${queryDate}}" th:text="${queryDate}"></a></li>
        </ol>
    </div>
    <div style="margin-bottom: 10px;">策略名称：<span style="color:red;" th:text="${strategyName}"></span></div>
    <table>
        <tr><td colspan="16" cols="16"><div style="color: green;float: left;">策略说明: <span th:text="${desc}"></span></div></td></tr>
        <tr>
            <th>股票代码</th>
            <th>股票名称</th>
            <th>批阅</th>
            <th>当前价</th>
            <th>MACD</th>
            <th>KDJ</th>
            <th>金叉</th>
            <th>换手率</th>
            <th>主力净流入(万)</th>
            <th>主力净流入比</th>
            <th>量比</th>
            <th>外盘</th>
            <th>内盘</th>
            <th>昨日涨幅</th>
            <th>今日涨幅</th>
            <th>操作</th>
            <th>K线</th>
            <th>评分</th>
            <th th:if="${type==15}">策略</th>
        </tr>
        <tr th:each="stock: ${recmdList}">
            <td th:text="${stock.stockCode}"></td>
            <td th:text="${stock.stockName}" style="font-weight:bold !important;"></td>
            <td>
                <label>
                    <input type="checkbox" th:checked="${stock.authorOpinion=='1'}"/>
                </label>
            </td>
            <td th:text="${stock.currentPrice}"></td>
            <td th:text="${stock.macd}"></td>
            <td th:text="${stock.kdj}"></td>
            <td th:text="${stock.kdjCount}"></td>
            <td th:text="${#numbers.formatDecimal(stock.turnoverRatio, 1, 2)}+'%'"></td>
            <td th:text="${stock.mainIn}"></td>
            <td th:text="${stock.mainInBi}"></td>
            <td th:text="${stock.liangbi}"></td>
            <td th:text="${stock.outerPan}"></td>
            <td th:text="${stock.innerPan}"></td>
            <td th:text="${stock.changeRatioYestoday!=null?#numbers.formatDecimal(stock.changeRatioYestoday, 1, 2)+'%':'未更新'}" th:style="'color:'+${stock.changeRatioYestoday>0?'red':'green'}"></td>
            <td th:text="${stock.changeRatioToday!=null?#numbers.formatDecimal(stock.changeRatioToday, 1, 2)+'%':'未更新'}" th:style="'color:'+${stock.changeRatioToday>0?'red':'green'}"></td>
            <td th:text="${stock.recmdOperate}"></td>
            <td><a th:href="@{'http://quote.eastmoney.com/'+${stock.stockCode}+'.html'}">K线</a></td>
            <td><a th:text="@{'股诊('+${stock.score}+')'}" th:href="@{'http://doctor.300033.info/'+${#strings.substring(stock.stockCode,2,#strings.length(stock.stockCode))}}"></a></td>
            <td th:if="${type==15}"><span th:text="${stock.strategy}"></span></td>
        </tr>
        <tr><td colspan="16" cols="16"><div style="float: right;">共 <span th:text="${count}"></span> 条数据</div></td></tr>
    </table>

</div>
<script language="javascript">
    $(function () {
        //当鼠标滑入时将div的class换成divOver
        $('tr').hover(function () {
                $(this).addClass('divOver');
            }, function () {
                //鼠标离开时移除divOver样式
                $(this).removeClass('divOver');
            }
        );
    });
</script>
</body>
</html>